// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`actionTrackingMiddleware - sync: action on the child 1`] = `
Array [
  Object {
    "context": Object {
      "actionName": "addY",
      "args": Array [
        2,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P2 {
        "$": Object {
          "$modelId": "id-2",
          "y": 2,
        },
        "$modelType": "P2",
        "addY": [Function],
      },
      "type": "sync",
    },
    "type": "filter",
  },
  Object {
    "context": Object {
      "actionName": "addY",
      "args": Array [
        2,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P2 {
        "$": Object {
          "$modelId": "id-2",
          "y": 2,
        },
        "$modelType": "P2",
        "addY": [Function],
      },
      "type": "sync",
    },
    "type": "start",
  },
  Object {
    "context": Object {
      "actionName": "addY",
      "args": Array [
        2,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P2 {
        "$": Object {
          "$modelId": "id-2",
          "y": 2,
        },
        "$modelType": "P2",
        "addY": [Function],
      },
      "type": "sync",
    },
    "type": "resume",
  },
  Object {
    "context": Object {
      "actionName": "addY",
      "args": Array [
        2,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P2 {
        "$": Object {
          "$modelId": "id-2",
          "y": 2,
        },
        "$modelType": "P2",
        "addY": [Function],
      },
      "type": "sync",
    },
    "type": "suspend",
  },
  Object {
    "context": Object {
      "actionName": "addY",
      "args": Array [
        2,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P2 {
        "$": Object {
          "$modelId": "id-2",
          "y": 2,
        },
        "$modelType": "P2",
        "addY": [Function],
      },
      "type": "sync",
    },
    "result": "return",
    "type": "finish",
    "value": 2,
  },
]
`;

exports[`actionTrackingMiddleware - sync: action on the root 1`] = `
Array [
  Object {
    "context": Object {
      "actionName": "addX",
      "args": Array [
        1,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 0,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 1,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "type": "filter",
  },
  Object {
    "context": Object {
      "actionName": "addX",
      "args": Array [
        1,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 0,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 1,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "type": "start",
  },
  Object {
    "context": Object {
      "actionName": "addX",
      "args": Array [
        1,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 0,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 1,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "type": "resume",
  },
  Object {
    "context": Object {
      "actionName": "addX",
      "args": Array [
        1,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 0,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 1,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "type": "suspend",
  },
  Object {
    "context": Object {
      "actionName": "addX",
      "args": Array [
        1,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 0,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 1,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "result": "return",
    "type": "finish",
    "value": 1,
  },
]
`;

exports[`actionTrackingMiddleware - sync: action on the root with sub-action on the child 1`] = `
Array [
  Object {
    "context": Object {
      "actionName": "addXY",
      "args": Array [
        3,
        4,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 6,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 4,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "type": "filter",
  },
  Object {
    "context": Object {
      "actionName": "addXY",
      "args": Array [
        3,
        4,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 6,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 4,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "type": "start",
  },
  Object {
    "context": Object {
      "actionName": "addXY",
      "args": Array [
        3,
        4,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 6,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 4,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "type": "resume",
  },
  Object {
    "context": Object {
      "actionName": "addX",
      "args": Array [
        3,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": Object {
        "actionName": "addXY",
        "args": Array [
          3,
          4,
        ],
        "data": Object {
          Symbol(simpleDataContext): [Circular],
          Symbol(actionTrackingMiddlewareData): Object {
            "startAccepted": true,
            "state": "finished",
          },
        },
        "parentContext": undefined,
        "rootContext": [Circular],
        "target": P {
          "$": Object {
            "$modelId": "id-1",
            "p2": P2 {
              "$": Object {
                "$modelId": "id-2",
                "y": 6,
              },
              "$modelType": "P2",
              "addY": [Function],
            },
            "x": 4,
          },
          "$modelType": "P",
        },
        "type": "sync",
      },
      "rootContext": Object {
        "actionName": "addXY",
        "args": Array [
          3,
          4,
        ],
        "data": Object {
          Symbol(simpleDataContext): [Circular],
          Symbol(actionTrackingMiddlewareData): Object {
            "startAccepted": true,
            "state": "finished",
          },
        },
        "parentContext": undefined,
        "rootContext": [Circular],
        "target": P {
          "$": Object {
            "$modelId": "id-1",
            "p2": P2 {
              "$": Object {
                "$modelId": "id-2",
                "y": 6,
              },
              "$modelType": "P2",
              "addY": [Function],
            },
            "x": 4,
          },
          "$modelType": "P",
        },
        "type": "sync",
      },
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 6,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 4,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "type": "filter",
  },
  Object {
    "context": Object {
      "actionName": "addX",
      "args": Array [
        3,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": Object {
        "actionName": "addXY",
        "args": Array [
          3,
          4,
        ],
        "data": Object {
          Symbol(simpleDataContext): [Circular],
          Symbol(actionTrackingMiddlewareData): Object {
            "startAccepted": true,
            "state": "finished",
          },
        },
        "parentContext": undefined,
        "rootContext": [Circular],
        "target": P {
          "$": Object {
            "$modelId": "id-1",
            "p2": P2 {
              "$": Object {
                "$modelId": "id-2",
                "y": 6,
              },
              "$modelType": "P2",
              "addY": [Function],
            },
            "x": 4,
          },
          "$modelType": "P",
        },
        "type": "sync",
      },
      "rootContext": Object {
        "actionName": "addXY",
        "args": Array [
          3,
          4,
        ],
        "data": Object {
          Symbol(simpleDataContext): [Circular],
          Symbol(actionTrackingMiddlewareData): Object {
            "startAccepted": true,
            "state": "finished",
          },
        },
        "parentContext": undefined,
        "rootContext": [Circular],
        "target": P {
          "$": Object {
            "$modelId": "id-1",
            "p2": P2 {
              "$": Object {
                "$modelId": "id-2",
                "y": 6,
              },
              "$modelType": "P2",
              "addY": [Function],
            },
            "x": 4,
          },
          "$modelType": "P",
        },
        "type": "sync",
      },
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 6,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 4,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "type": "start",
  },
  Object {
    "context": Object {
      "actionName": "addX",
      "args": Array [
        3,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": Object {
        "actionName": "addXY",
        "args": Array [
          3,
          4,
        ],
        "data": Object {
          Symbol(simpleDataContext): [Circular],
          Symbol(actionTrackingMiddlewareData): Object {
            "startAccepted": true,
            "state": "finished",
          },
        },
        "parentContext": undefined,
        "rootContext": [Circular],
        "target": P {
          "$": Object {
            "$modelId": "id-1",
            "p2": P2 {
              "$": Object {
                "$modelId": "id-2",
                "y": 6,
              },
              "$modelType": "P2",
              "addY": [Function],
            },
            "x": 4,
          },
          "$modelType": "P",
        },
        "type": "sync",
      },
      "rootContext": Object {
        "actionName": "addXY",
        "args": Array [
          3,
          4,
        ],
        "data": Object {
          Symbol(simpleDataContext): [Circular],
          Symbol(actionTrackingMiddlewareData): Object {
            "startAccepted": true,
            "state": "finished",
          },
        },
        "parentContext": undefined,
        "rootContext": [Circular],
        "target": P {
          "$": Object {
            "$modelId": "id-1",
            "p2": P2 {
              "$": Object {
                "$modelId": "id-2",
                "y": 6,
              },
              "$modelType": "P2",
              "addY": [Function],
            },
            "x": 4,
          },
          "$modelType": "P",
        },
        "type": "sync",
      },
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 6,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 4,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "type": "resume",
  },
  Object {
    "context": Object {
      "actionName": "addX",
      "args": Array [
        3,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": Object {
        "actionName": "addXY",
        "args": Array [
          3,
          4,
        ],
        "data": Object {
          Symbol(simpleDataContext): [Circular],
          Symbol(actionTrackingMiddlewareData): Object {
            "startAccepted": true,
            "state": "finished",
          },
        },
        "parentContext": undefined,
        "rootContext": [Circular],
        "target": P {
          "$": Object {
            "$modelId": "id-1",
            "p2": P2 {
              "$": Object {
                "$modelId": "id-2",
                "y": 6,
              },
              "$modelType": "P2",
              "addY": [Function],
            },
            "x": 4,
          },
          "$modelType": "P",
        },
        "type": "sync",
      },
      "rootContext": Object {
        "actionName": "addXY",
        "args": Array [
          3,
          4,
        ],
        "data": Object {
          Symbol(simpleDataContext): [Circular],
          Symbol(actionTrackingMiddlewareData): Object {
            "startAccepted": true,
            "state": "finished",
          },
        },
        "parentContext": undefined,
        "rootContext": [Circular],
        "target": P {
          "$": Object {
            "$modelId": "id-1",
            "p2": P2 {
              "$": Object {
                "$modelId": "id-2",
                "y": 6,
              },
              "$modelType": "P2",
              "addY": [Function],
            },
            "x": 4,
          },
          "$modelType": "P",
        },
        "type": "sync",
      },
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 6,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 4,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "type": "suspend",
  },
  Object {
    "context": Object {
      "actionName": "addX",
      "args": Array [
        3,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": Object {
        "actionName": "addXY",
        "args": Array [
          3,
          4,
        ],
        "data": Object {
          Symbol(simpleDataContext): [Circular],
          Symbol(actionTrackingMiddlewareData): Object {
            "startAccepted": true,
            "state": "finished",
          },
        },
        "parentContext": undefined,
        "rootContext": [Circular],
        "target": P {
          "$": Object {
            "$modelId": "id-1",
            "p2": P2 {
              "$": Object {
                "$modelId": "id-2",
                "y": 6,
              },
              "$modelType": "P2",
              "addY": [Function],
            },
            "x": 4,
          },
          "$modelType": "P",
        },
        "type": "sync",
      },
      "rootContext": Object {
        "actionName": "addXY",
        "args": Array [
          3,
          4,
        ],
        "data": Object {
          Symbol(simpleDataContext): [Circular],
          Symbol(actionTrackingMiddlewareData): Object {
            "startAccepted": true,
            "state": "finished",
          },
        },
        "parentContext": undefined,
        "rootContext": [Circular],
        "target": P {
          "$": Object {
            "$modelId": "id-1",
            "p2": P2 {
              "$": Object {
                "$modelId": "id-2",
                "y": 6,
              },
              "$modelType": "P2",
              "addY": [Function],
            },
            "x": 4,
          },
          "$modelType": "P",
        },
        "type": "sync",
      },
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 6,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 4,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "result": "return",
    "type": "finish",
    "value": 4,
  },
  Object {
    "context": Object {
      "actionName": "addY",
      "args": Array [
        4,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": Object {
        "actionName": "addXY",
        "args": Array [
          3,
          4,
        ],
        "data": Object {
          Symbol(simpleDataContext): [Circular],
          Symbol(actionTrackingMiddlewareData): Object {
            "startAccepted": true,
            "state": "finished",
          },
        },
        "parentContext": undefined,
        "rootContext": [Circular],
        "target": P {
          "$": Object {
            "$modelId": "id-1",
            "p2": P2 {
              "$": Object {
                "$modelId": "id-2",
                "y": 6,
              },
              "$modelType": "P2",
              "addY": [Function],
            },
            "x": 4,
          },
          "$modelType": "P",
        },
        "type": "sync",
      },
      "rootContext": Object {
        "actionName": "addXY",
        "args": Array [
          3,
          4,
        ],
        "data": Object {
          Symbol(simpleDataContext): [Circular],
          Symbol(actionTrackingMiddlewareData): Object {
            "startAccepted": true,
            "state": "finished",
          },
        },
        "parentContext": undefined,
        "rootContext": [Circular],
        "target": P {
          "$": Object {
            "$modelId": "id-1",
            "p2": P2 {
              "$": Object {
                "$modelId": "id-2",
                "y": 6,
              },
              "$modelType": "P2",
              "addY": [Function],
            },
            "x": 4,
          },
          "$modelType": "P",
        },
        "type": "sync",
      },
      "target": P2 {
        "$": Object {
          "$modelId": "id-2",
          "y": 6,
        },
        "$modelType": "P2",
        "addY": [Function],
      },
      "type": "sync",
    },
    "type": "filter",
  },
  Object {
    "context": Object {
      "actionName": "addY",
      "args": Array [
        4,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": Object {
        "actionName": "addXY",
        "args": Array [
          3,
          4,
        ],
        "data": Object {
          Symbol(simpleDataContext): [Circular],
          Symbol(actionTrackingMiddlewareData): Object {
            "startAccepted": true,
            "state": "finished",
          },
        },
        "parentContext": undefined,
        "rootContext": [Circular],
        "target": P {
          "$": Object {
            "$modelId": "id-1",
            "p2": P2 {
              "$": Object {
                "$modelId": "id-2",
                "y": 6,
              },
              "$modelType": "P2",
              "addY": [Function],
            },
            "x": 4,
          },
          "$modelType": "P",
        },
        "type": "sync",
      },
      "rootContext": Object {
        "actionName": "addXY",
        "args": Array [
          3,
          4,
        ],
        "data": Object {
          Symbol(simpleDataContext): [Circular],
          Symbol(actionTrackingMiddlewareData): Object {
            "startAccepted": true,
            "state": "finished",
          },
        },
        "parentContext": undefined,
        "rootContext": [Circular],
        "target": P {
          "$": Object {
            "$modelId": "id-1",
            "p2": P2 {
              "$": Object {
                "$modelId": "id-2",
                "y": 6,
              },
              "$modelType": "P2",
              "addY": [Function],
            },
            "x": 4,
          },
          "$modelType": "P",
        },
        "type": "sync",
      },
      "target": P2 {
        "$": Object {
          "$modelId": "id-2",
          "y": 6,
        },
        "$modelType": "P2",
        "addY": [Function],
      },
      "type": "sync",
    },
    "type": "start",
  },
  Object {
    "context": Object {
      "actionName": "addY",
      "args": Array [
        4,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": Object {
        "actionName": "addXY",
        "args": Array [
          3,
          4,
        ],
        "data": Object {
          Symbol(simpleDataContext): [Circular],
          Symbol(actionTrackingMiddlewareData): Object {
            "startAccepted": true,
            "state": "finished",
          },
        },
        "parentContext": undefined,
        "rootContext": [Circular],
        "target": P {
          "$": Object {
            "$modelId": "id-1",
            "p2": P2 {
              "$": Object {
                "$modelId": "id-2",
                "y": 6,
              },
              "$modelType": "P2",
              "addY": [Function],
            },
            "x": 4,
          },
          "$modelType": "P",
        },
        "type": "sync",
      },
      "rootContext": Object {
        "actionName": "addXY",
        "args": Array [
          3,
          4,
        ],
        "data": Object {
          Symbol(simpleDataContext): [Circular],
          Symbol(actionTrackingMiddlewareData): Object {
            "startAccepted": true,
            "state": "finished",
          },
        },
        "parentContext": undefined,
        "rootContext": [Circular],
        "target": P {
          "$": Object {
            "$modelId": "id-1",
            "p2": P2 {
              "$": Object {
                "$modelId": "id-2",
                "y": 6,
              },
              "$modelType": "P2",
              "addY": [Function],
            },
            "x": 4,
          },
          "$modelType": "P",
        },
        "type": "sync",
      },
      "target": P2 {
        "$": Object {
          "$modelId": "id-2",
          "y": 6,
        },
        "$modelType": "P2",
        "addY": [Function],
      },
      "type": "sync",
    },
    "type": "resume",
  },
  Object {
    "context": Object {
      "actionName": "addY",
      "args": Array [
        4,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": Object {
        "actionName": "addXY",
        "args": Array [
          3,
          4,
        ],
        "data": Object {
          Symbol(simpleDataContext): [Circular],
          Symbol(actionTrackingMiddlewareData): Object {
            "startAccepted": true,
            "state": "finished",
          },
        },
        "parentContext": undefined,
        "rootContext": [Circular],
        "target": P {
          "$": Object {
            "$modelId": "id-1",
            "p2": P2 {
              "$": Object {
                "$modelId": "id-2",
                "y": 6,
              },
              "$modelType": "P2",
              "addY": [Function],
            },
            "x": 4,
          },
          "$modelType": "P",
        },
        "type": "sync",
      },
      "rootContext": Object {
        "actionName": "addXY",
        "args": Array [
          3,
          4,
        ],
        "data": Object {
          Symbol(simpleDataContext): [Circular],
          Symbol(actionTrackingMiddlewareData): Object {
            "startAccepted": true,
            "state": "finished",
          },
        },
        "parentContext": undefined,
        "rootContext": [Circular],
        "target": P {
          "$": Object {
            "$modelId": "id-1",
            "p2": P2 {
              "$": Object {
                "$modelId": "id-2",
                "y": 6,
              },
              "$modelType": "P2",
              "addY": [Function],
            },
            "x": 4,
          },
          "$modelType": "P",
        },
        "type": "sync",
      },
      "target": P2 {
        "$": Object {
          "$modelId": "id-2",
          "y": 6,
        },
        "$modelType": "P2",
        "addY": [Function],
      },
      "type": "sync",
    },
    "type": "suspend",
  },
  Object {
    "context": Object {
      "actionName": "addY",
      "args": Array [
        4,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": Object {
        "actionName": "addXY",
        "args": Array [
          3,
          4,
        ],
        "data": Object {
          Symbol(simpleDataContext): [Circular],
          Symbol(actionTrackingMiddlewareData): Object {
            "startAccepted": true,
            "state": "finished",
          },
        },
        "parentContext": undefined,
        "rootContext": [Circular],
        "target": P {
          "$": Object {
            "$modelId": "id-1",
            "p2": P2 {
              "$": Object {
                "$modelId": "id-2",
                "y": 6,
              },
              "$modelType": "P2",
              "addY": [Function],
            },
            "x": 4,
          },
          "$modelType": "P",
        },
        "type": "sync",
      },
      "rootContext": Object {
        "actionName": "addXY",
        "args": Array [
          3,
          4,
        ],
        "data": Object {
          Symbol(simpleDataContext): [Circular],
          Symbol(actionTrackingMiddlewareData): Object {
            "startAccepted": true,
            "state": "finished",
          },
        },
        "parentContext": undefined,
        "rootContext": [Circular],
        "target": P {
          "$": Object {
            "$modelId": "id-1",
            "p2": P2 {
              "$": Object {
                "$modelId": "id-2",
                "y": 6,
              },
              "$modelType": "P2",
              "addY": [Function],
            },
            "x": 4,
          },
          "$modelType": "P",
        },
        "type": "sync",
      },
      "target": P2 {
        "$": Object {
          "$modelId": "id-2",
          "y": 6,
        },
        "$modelType": "P2",
        "addY": [Function],
      },
      "type": "sync",
    },
    "result": "return",
    "type": "finish",
    "value": 6,
  },
  Object {
    "context": Object {
      "actionName": "addXY",
      "args": Array [
        3,
        4,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 6,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 4,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "type": "suspend",
  },
  Object {
    "context": Object {
      "actionName": "addXY",
      "args": Array [
        3,
        4,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 6,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 4,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "result": "return",
    "type": "finish",
    "value": 7,
  },
]
`;

exports[`actionTrackingMiddleware - sync: disposing 1`] = `Array []`;

exports[`actionTrackingMiddleware - sync: override action on start 1`] = `
Array [
  Object {
    "context": Object {
      "actionName": "addXY2",
      "args": Array [
        3,
        4,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 6,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 4,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "type": "filter",
  },
  Object {
    "context": Object {
      "actionName": "addXY2",
      "args": Array [
        3,
        4,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 6,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 4,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "type": "start",
  },
  Object {
    "context": Object {
      "actionName": "addXY2",
      "args": Array [
        3,
        4,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 6,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 4,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "type": "resume",
  },
  Object {
    "context": Object {
      "actionName": "addXY2",
      "args": Array [
        3,
        4,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 6,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 4,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "type": "suspend",
  },
  Object {
    "context": Object {
      "actionName": "addXY2",
      "args": Array [
        3,
        4,
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 6,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 4,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "result": "return",
    "type": "finish",
    "value": -1000,
  },
]
`;

exports[`actionTrackingMiddleware - sync: throwing 1`] = `
Array [
  Object {
    "context": Object {
      "actionName": "throw",
      "args": Array [
        "some error",
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 6,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 4,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "type": "filter",
  },
  Object {
    "context": Object {
      "actionName": "throw",
      "args": Array [
        "some error",
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 6,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 4,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "type": "start",
  },
  Object {
    "context": Object {
      "actionName": "throw",
      "args": Array [
        "some error",
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 6,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 4,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "type": "resume",
  },
  Object {
    "context": Object {
      "actionName": "throw",
      "args": Array [
        "some error",
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 6,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 4,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "type": "suspend",
  },
  Object {
    "context": Object {
      "actionName": "throw",
      "args": Array [
        "some error",
      ],
      "data": Object {
        Symbol(simpleDataContext): [Circular],
        Symbol(actionTrackingMiddlewareData): Object {
          "startAccepted": true,
          "state": "finished",
        },
      },
      "parentContext": undefined,
      "rootContext": [Circular],
      "target": P {
        "$": Object {
          "$modelId": "id-1",
          "p2": P2 {
            "$": Object {
              "$modelId": "id-2",
              "y": 6,
            },
            "$modelType": "P2",
            "addY": [Function],
          },
          "x": 4,
        },
        "$modelType": "P",
      },
      "type": "sync",
    },
    "result": "throw",
    "type": "finish",
    "value": [Error: some error],
  },
]
`;
