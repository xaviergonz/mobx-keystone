---
title: Client/Server
slug: /examples/clientServer
---

import BrowserOnly from "@docusaurus/BrowserOnly"
import CodeBlock from "@theme/CodeBlock"

import appSource from "!!raw-loader!./app.tsx"
import serverSource from "!!raw-loader!./server.ts"
import appInstanceSource from "!!raw-loader!./appInstance.tsx"

In this example we will be synchronizing two separate root stores via action capturing and applying, which will simulate how to instances of an app talk with a server to keep in sync. We will use pessimistic updates, this is, we will cancel the local action and then actually run the action when the server tells the client to do so.

<BrowserOnly>
  {() => {
    const { App } = require("./app.tsx")
    return <App />
  }}
</BrowserOnly>

## Code

### `server.ts`

<CodeBlock className="language-ts" title="examples/clientServer/server.ts">
  {serverSource}
</CodeBlock>

### `appInstance.tsx`

<CodeBlock className="language-tsx" title="examples/clientServer/appInstance.tsx">
  {appInstanceSource}
</CodeBlock>

### `app.tsx`

<CodeBlock className="language-tsx" title="examples/clientServer/app.tsx">
  {appSource}
</CodeBlock>
